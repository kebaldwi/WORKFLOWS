{
  "workflow": {
    "unique_name": "definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU",
    "name": "CATC-BuildHierarchy",
    "title": "CATC-BuildHierarchy",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "Hierarchy",
          "type": "datatype.string",
          "description": "SiteHierarchy",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "json"
        },
        "unique_name": "variable_workflow_02NJP4HYF7H6T54rUgxlZ73QtwLyyZBOx1i",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.number",
        "properties": {
          "value": 0,
          "scope": "input",
          "name": "Latitude",
          "type": "datatype.number",
          "description": "Latitude of Building",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02NJP4HYG089O068lI4PBQWDBrV7eoYvQvA",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "local",
          "name": "SiteResponse",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "json"
        },
        "unique_name": "variable_workflow_02NJP4HYE6SIW4uTdACrz5P21Xd5j5myHaK",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "SAN JOSE",
          "scope": "input",
          "name": "HierarchyArea",
          "type": "datatype.string",
          "description": "Area to be built in the Hierarchy",
          "is_required": false,
          "display_on_wizard": true,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02NJP4HYFLLPB64n6x4ZnQeBKoxQb2Ad7SK",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "FLOOR 1",
          "scope": "input",
          "name": "HierarchyFloor",
          "type": "datatype.string",
          "description": "Floor to be built in the Hierarchy",
          "is_required": false,
          "display_on_wizard": true,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02NJP4HYESMDY46R6XgyLqUVCEYbt4gbPJO",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "300 E Tasman Dr, San Jose, CA 95134",
          "scope": "input",
          "name": "HierarchyBuildingAddress",
          "type": "datatype.string",
          "description": "Building Address for the Hierarchy",
          "is_required": false,
          "display_on_wizard": true,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02NJP4HYEZR3C1lnIQZS5nKRMnRH3j6pra6",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.number",
        "properties": {
          "value": 0,
          "scope": "input",
          "name": "Longitude",
          "type": "datatype.number",
          "description": "Longitude of Building",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02NJP4HYDZHOX4UZuGL1Zivo5WfacNw8DHD",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Global/CALIFORNIA",
          "scope": "input",
          "name": "Parent",
          "type": "datatype.string",
          "description": "Parent Area for the Site to be built",
          "is_required": true,
          "display_on_wizard": true,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02NJP4HYEECPJ7IcKpXzr2w45K3OU7lJilA",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "local",
          "name": "siteNameHierarchy",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02NJP4HYFEJSN69EMuuS5FEBOp95o0LC4JW",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "ResultHierarchy",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "json"
        },
        "unique_name": "variable_workflow_02NJP4HYELG0I0qx0p49kYavq2WNl5n2Bia",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "BUILDING 10",
          "scope": "input",
          "name": "HierarchyBuilding",
          "type": "datatype.string",
          "description": "Building to be built in the Hierarchy",
          "is_required": false,
          "display_on_wizard": true,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02NJP4HYFSST75MVioHmIl3zG82CLzltKfW",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "is_atomic": false
      },
      "delete_workflow_instance": false,
      "description": "Written to Build Hierarchy in Catalyst Center",
      "display_name": "CATC-BuildHierarchy",
      "runtime_user": {
        "override_target_runtime_user": false,
        "specify_on_workflow_start": false,
        "target_default": true
      },
      "target": {
        "target_type": "catalystcenter.endpoint",
        "specify_on_workflow_start": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02NJP4I5Z9M6I3Aqo1ql4rgGOLItuzD976n",
        "name": "Generic Catalyst Center API Request",
        "title": "Get Site Hierarchy",
        "type": "catalystcenter.invoke_api",
        "base_type": "activity",
        "properties": {
          "_endpoint": "/dna/intent/api/v1/site",
          "_headers": [
            {
              "name": "Accept",
              "value": "application/json"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ],
          "_method": "GET",
          "action_timeout": 180,
          "continue_on_failure": true,
          "description": "Get the initial Site Hierarchy",
          "display_name": "Get Site Hierarchy",
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "use_workflow_target": true
          }
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02NJP4I8969C11pfTymmL11MM8pWQTYia2L",
        "name": "Find String",
        "title": "Find Area",
        "type": "core.find_string",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "description": "Find Area in Hierarchy",
          "display_name": "Find Area",
          "searched_string": "$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYEECPJ7IcKpXzr2w45K3OU7lJilA$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFLLPB64n6x4ZnQeBKoxQb2Ad7SK$",
          "skip_execution": false,
          "source": "$activity.definition_activity_02NJP4I5Z9M6I3Aqo1ql4rgGOLItuzD976n.output.raw_body$"
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02NJP4IAX03VT2e1ueWfwWbrjTZvzsLCalm",
        "name": "Condition Block",
        "title": "Conditional Area Block",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "conditions": [],
          "continue_on_failure": true,
          "description": "Conditions to Build Area",
          "display_name": "Conditional Area Block",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02NJP4ID4OWNW1ua8SV74MKD3SYgt9o14VY",
            "name": "Condition Branch",
            "title": "Create Area Block",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$activity.definition_activity_02NJP4I8969C11pfTymmL11MM8pWQTYia2L.output.has_match$",
                "operator": "eq",
                "right_operand": false
              },
              "continue_on_failure": true,
              "description": "Create the Area",
              "display_name": "Create Area Block",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02NJP4IINRLF06veWnYOVU40zzAcNWZ1Nms",
                "name": "Add Catalyst Center site",
                "title": "Add Area",
                "type": "catalystcenter.invoke_api.createSite",
                "base_type": "activity",
                "properties": {
                  "_body": "{\"type\": \"${type}\", \"site\": {\"area\": ${area | json}, \"building\": ${building | json}, \"floor\": ${floor | json}}}",
                  "_endpoint": "/dna/intent/api/v1/site",
                  "_method": "POST",
                  "action_timeout": 180,
                  "area": {
                    "name": "$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFLLPB64n6x4ZnQeBKoxQb2Ad7SK$",
                    "parentName": "$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYEECPJ7IcKpXzr2w45K3OU7lJilA$"
                  },
                  "continue_on_failure": false,
                  "description": "Build Area Element of the Hierarchy",
                  "display_name": "Add Area",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  },
                  "type": "area"
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02NLNYLZ65EWY3msZPNjgCi20flyyqFw9v5",
                "name": "Sleep",
                "title": "Sleep",
                "type": "core.sleep",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": true,
                  "description": "Sleep",
                  "display_name": "Sleep",
                  "skip_execution": false,
                  "sleep_interval": 5
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_02NJP4ILIVZZ30pZJXmtfneW44clSkE5dFl",
        "name": "Find String",
        "title": "Find Building",
        "type": "core.find_string",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "description": "Find Building in Hierarchy",
          "display_name": "Find Building",
          "searched_string": "$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYEECPJ7IcKpXzr2w45K3OU7lJilA$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFLLPB64n6x4ZnQeBKoxQb2Ad7SK$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFSST75MVioHmIl3zG82CLzltKfW$",
          "skip_execution": false,
          "source": "$activity.definition_activity_02NJP4I5Z9M6I3Aqo1ql4rgGOLItuzD976n.output.raw_body$"
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02NJP4IOFHVU87WSQdjGd3S9vwF4fICANKA",
        "name": "Condition Block",
        "title": "Conditional Building Block",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "conditions": [],
          "continue_on_failure": true,
          "description": "Conditions to Build Building",
          "display_name": "Conditional Building Block",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02NJP4IQPAEEW5CeCTdfQFEKZLaxvYzqZnL",
            "name": "Condition Branch",
            "title": "Create Building Block",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$activity.definition_activity_02NJP4ILIVZZ30pZJXmtfneW44clSkE5dFl.output.has_match$",
                "operator": "eq",
                "right_operand": false
              },
              "continue_on_failure": false,
              "description": "Create the Building",
              "display_name": "Create Building Block",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02NJP4IULY7F34dsvZQ2JEey5x6uybzFlal",
                "name": "Generic Catalyst Center API Request",
                "title": "Add Building",
                "type": "catalystcenter.invoke_api",
                "base_type": "activity",
                "properties": {
                  "_body": "{\n  \"site\": {\n    \"building\": {\n      \"address\": \"$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYEZR3C1lnIQZS5nKRMnRH3j6pra6$\",\n      \"name\": \"$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFSST75MVioHmIl3zG82CLzltKfW$\",\n      \"parentName\": \"$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYEECPJ7IcKpXzr2w45K3OU7lJilA$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFLLPB64n6x4ZnQeBKoxQb2Ad7SK$\"\n    }\n  },\n  \"type\": \"building\"\n}",
                  "_endpoint": "/dna/intent/api/v1/site",
                  "_headers": [
                    {
                      "name": "Accept",
                      "value": "application/json"
                    },
                    {
                      "name": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "_method": "POST",
                  "action_timeout": 180,
                  "continue_on_failure": false,
                  "description": "Build Building Element of the Hierarchy",
                  "display_name": "Add Building",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02NLO227V6Q1D4f74vI6yvv4Qtbtlw5SPnO",
                "name": "Sleep",
                "title": "Sleep",
                "type": "core.sleep",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": true,
                  "description": "Sleep",
                  "display_name": "Sleep",
                  "skip_execution": false,
                  "sleep_interval": 5
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_02NJP4IXK4WIC5sagccQrrJ2ZWSrWDnlEqa",
        "name": "Find String",
        "title": "Find Floor",
        "type": "core.find_string",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": true,
          "description": "Find Floor in Hierarchy",
          "display_name": "Find Floor",
          "searched_string": "$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYEECPJ7IcKpXzr2w45K3OU7lJilA$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFLLPB64n6x4ZnQeBKoxQb2Ad7SK$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFSST75MVioHmIl3zG82CLzltKfW$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYESMDY46R6XgyLqUVCEYbt4gbPJO$",
          "skip_execution": false,
          "source": "$activity.definition_activity_02NJP4I5Z9M6I3Aqo1ql4rgGOLItuzD976n.output.raw_body$"
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02NJP4J0JJBSU46Iz26DOKyNsZkhCplX7KR",
        "name": "Condition Block",
        "title": "Conditional Floor Block",
        "type": "logic.if_else",
        "base_type": "activity",
        "properties": {
          "conditions": [],
          "continue_on_failure": true,
          "description": "Conditions to Build Floor",
          "display_name": "Conditional Floor Block",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "blocks": [
          {
            "unique_name": "definition_activity_02NJP4J2RNSQA2bjKEXx8TrQ7oh4a3rcfwc",
            "name": "Condition Branch",
            "title": "Create Floor",
            "type": "logic.condition_block",
            "base_type": "activity",
            "properties": {
              "condition": {
                "left_operand": "$activity.definition_activity_02NJP4IXK4WIC5sagccQrrJ2ZWSrWDnlEqa.output.has_match$",
                "operator": "eq",
                "right_operand": false
              },
              "continue_on_failure": true,
              "description": "Create the Floor",
              "display_name": "Create Floor",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02NJP4J6MKLJS2DPNbTlW6639rLyrP990q0",
                "name": "Generic Catalyst Center API Request",
                "title": "Add Floor",
                "type": "catalystcenter.invoke_api",
                "base_type": "activity",
                "properties": {
                  "_body": "{\n  \"site\": {\n    \"floor\": {\n      \"height\": \"10\",\n      \"length\": \"100\",\n      \"name\": \"$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYESMDY46R6XgyLqUVCEYbt4gbPJO$\",\n      \"parentName\": \"$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYEECPJ7IcKpXzr2w45K3OU7lJilA$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFLLPB64n6x4ZnQeBKoxQb2Ad7SK$/$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.input.variable_workflow_02NJP4HYFSST75MVioHmIl3zG82CLzltKfW$\",\n      \"rfModel\": \"Cubes And Walled Offices\",\n      \"width\": \"100\"\n    }\n  },\n  \"type\": \"floor\"\n}",
                  "_endpoint": "/dna/intent/api/v1/site",
                  "_headers": [
                    {
                      "name": "Accept",
                      "value": "application/json"
                    },
                    {
                      "name": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "_method": "POST",
                  "action_timeout": 180,
                  "continue_on_failure": true,
                  "description": "Build Floor Element of the Hierarchy",
                  "display_name": "Add Floor",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              },
              {
                "unique_name": "definition_activity_02NLNYYR04GU86eetLFkF9ZeeCCQcgAFVgU",
                "name": "Sleep",
                "title": "Sleep",
                "type": "core.sleep",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": true,
                  "description": "Sleep",
                  "display_name": "Sleep",
                  "skip_execution": false,
                  "sleep_interval": 5
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_02NJP4JB1AF5Z6O4tqPfwYLBEhrv6PjyCxe",
        "name": "Get Catalyst Center site v2",
        "title": "Get Resultant Site Hierarchy",
        "type": "catalystcenter.invoke_api.getSiteV2",
        "base_type": "activity",
        "properties": {
          "_endpoint": "/dna/intent/api/v2/site?groupNameHierarchy=${groupNameHierarchy}\u0026id=${id}\u0026type=${type}\u0026offset=${offset}\u0026limit=${limit}",
          "_method": "GET",
          "action_timeout": 180,
          "continue_on_failure": true,
          "description": "Get the Resultant Site Hierarchy",
          "display_name": "Get Resultant Site Hierarchy",
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "use_workflow_target": true
          }
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02NJP4JDSZK4W3j6iAGGBD6Pvqv32SxlkfG",
        "name": "Set Variables",
        "title": "Output",
        "type": "core.set_multiple_variables",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": true,
          "description": "The Output from the Site Hierarchy Run",
          "display_name": "Output",
          "skip_execution": false,
          "variables_to_update": [
            {
              "variable_to_update": "$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.output.variable_workflow_02NJP4HYF7H6T54rUgxlZ73QtwLyyZBOx1i$",
              "variable_value_new": "$activity.definition_activity_02NJP4I5Z9M6I3Aqo1ql4rgGOLItuzD976n.output.raw_body$"
            },
            {
              "variable_to_update": "$workflow.definition_workflow_02NJP4HX7OY8C4e1DspA0j7sjYSmRpMefRU.output.variable_workflow_02NJP4HYELG0I0qx0p49kYavq2WNl5n2Bia$",
              "variable_value_new": "$activity.definition_activity_02NJP4JB1AF5Z6O4tqPfwYLBEhrv6PjyCxe.output.body.response$"
            }
          ]
        },
        "object_type": "definition_activity"
      }
    ],
    "categories": [
      "category_02MUX7XANKJ0021xFUT7Z2Sjn1EYQyKSTQ6"
    ]
  },
  "categories": {
    "category_02MUX7XANKJ0021xFUT7Z2Sjn1EYQyKSTQ6": {
      "unique_name": "category_02MUX7XANKJ0021xFUT7Z2Sjn1EYQyKSTQ6",
      "name": "Catalyst Center",
      "title": "Catalyst Center",
      "type": "basic.category",
      "base_type": "category",
      "description": "Catalyst Center",
      "category_type": "system",
      "object_type": "category"
    }
  }
}